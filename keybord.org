#+TITLE: Emacs 快捷键大全

* 文件操作

|-------------------+-------------------------------------|
| 快捷键            | 描述                                |
|-------------------+-------------------------------------|
| C-x C-f           | 打开文件                            |
|-------------------+-------------------------------------|
| C-x C-v           | 打开文件，取代当前缓冲取            |
|-------------------+-------------------------------------|
| C-x C-s           | 保存当前文件                        |
|-------------------+-------------------------------------|
| C-x C-w           | 另存当前文件                        |
|-------------------+-------------------------------------|
| C-x C-q           | 切换文件的只读模式                  |
|-------------------+-------------------------------------|
| C-x C-c           | 退出                                |
|-------------------+-------------------------------------|
| C-x i             | 插入文件到当前缓存区                |
|-------------------+-------------------------------------|
| C-x s             | 保存所有缓冲区的文件                |
|-------------------+-------------------------------------|
| C-x C-z           | 最小化                              |
|-------------------+-------------------------------------|
| C-x C-r           | 只读模式打开文件                    |
|-------------------+-------------------------------------|
| C-x RET r         | 以指定编码读取文件                  |
|-------------------+-------------------------------------|
| C-x RET f         | 以指定编码保存文件                  |
|-------------------+-------------------------------------|
| C-q ascll码       | 当前缓冲区出入一个ascll码代表的字符 |
|-------------------+-------------------------------------|
| C-x 8 unicode码   | 当前缓冲区插入一个unicode对应的字符 |
|-------------------+-------------------------------------|
| C-x RET r/c/f/k/b | 以指定格式及编码操作文件            |
|-------------------+-------------------------------------|
| revert-buffer     | 撤销上次存盘后的所有改动            |
|-------------------+-------------------------------------|
| recover-file      | 程序崩溃时，恢复编辑的文件          |
|-------------------+-------------------------------------|
| recover-session   | 恢复所有文件                        |
|-------------------+-------------------------------------|





* 光标移动快捷键

|-------------+-------------------------------------------|
| 快捷键      | 描述                                      |
|-------------+-------------------------------------------|
| C-f/b       | 字，前/后                                 |
|-------------+-------------------------------------------|
| C-p/n       | 行，向上/向下                             |
|-------------+-------------------------------------------|
| C-a/e       | 行内，首/尾                               |
|-------------+-------------------------------------------|
| M-f/b       | 词，前一个/下一个                         |
|-------------+-------------------------------------------|
| M-a/e       | 句，首/尾                                 |
|-------------+-------------------------------------------|
| C-x ]/[     | 页，下/上(没有页标识的时候和翻屏一样效果) |
|-------------+-------------------------------------------|
| C-v/M-v     | 屏，下/上                                 |
|-------------+-------------------------------------------|
| M-{/}       | 段，前/后                                 |
|-------------+-------------------------------------------|
| M-</>       | 缓冲区，首/尾                             |
|-------------+-------------------------------------------|
| M-C-v/V     | 上/下翻页另一个缓冲区的内容               |
|-------------+-------------------------------------------|
| C-M-f/b     | 向前/向后匹配括号                         |
|-------------+-------------------------------------------|
| C-l         | 重绘屏幕上/中/下                          |
|-------------+-------------------------------------------|
| C-M-l       | 重绘屏幕上/中                             |
|-------------+-------------------------------------------|
| M-r         | 重绘光标上/中/下                          |
|-------------+-------------------------------------------|
| M-n/C-u n   | 重复后面的操作或者命令N次/C-u默认4次      |
|-------------+-------------------------------------------|
| C-x Esc Esc | M-p/M-n选择一条历史命令重新执行一次       |
|-------------+-------------------------------------------|
| M-g M-g     | 跳转到某行                                |
|-------------+-------------------------------------------|
| goto-line   | 跳转到指定行                              |
|-------------+-------------------------------------------|
| C-u C-@     | 快速回到光标上一次所在位置                |
|-------------+-------------------------------------------|




* 文件编辑

|-------------------+------------------------------------------------|
| 快捷键            | 描述                                           |
|-------------------+------------------------------------------------|
| C-d/DEL           | 删除后/前一个字符                              |
|-------------------+------------------------------------------------|
| M-d/M-DEL         | 剪切后/前一个单词                              |
|-------------------+------------------------------------------------|
| C-k               | 剪切光标位置到一行结束                         |
|-------------------+------------------------------------------------|
| M-k               | 剪切光标位置到一句结束                         |
| C-x DEL           | 同上                                           |
|-------------------+------------------------------------------------|
| C-S-DEL           | 剪切整行                                       |
|-------------------+------------------------------------------------|
| C-@               | 设置选择标记                                   |
| C-x h             | 全选                                           |
| C-x C-x           | 快速标记/交换标记头尾                          |
| C-@ C-@           | 设置跳转标记                                   |
| C-x/C-u C-@       | 全局/局部标记间跳转                            |
|-------------------+------------------------------------------------|
| C-w               | 剪切标记区域                                   |
|-------------------+------------------------------------------------|
| M-w               | 复制标记区域                                   |
|-------------------+------------------------------------------------|
| C-y               | 粘贴/召回                                      |
| M-y               | 召回时使用，选择找回的内容                     |
|-------------------+------------------------------------------------|
| C-/               | 撤销                                           |
| C-g C-/           | 重做                                           |
| C-x u             | 重做                                           |
| C-_               | 重做                                           |
|-------------------+------------------------------------------------|
| M-z 字符          | 删除到字符为之                                 |
|-------------------+------------------------------------------------|
| C-x C-u           | 改为大写字母                                   |
|-------------------+------------------------------------------------|
| C-l/C-u           | 当前单词改为小写/大写                          |
|-------------------+------------------------------------------------|
| C-M-w             | 连接删除缓冲区中最近两次删除的内容             |
|-------------------+------------------------------------------------|
| C-x C-p           | 选取一页                                       |
|-------------------+------------------------------------------------|
| M-h               | 选取一段                                       |
|-------------------+------------------------------------------------|
| M-@               | 选取一个词，可以连续按                         |
|-------------------+------------------------------------------------|
| M-\               | 清除光标处的空白字符                           |
|-------------------+------------------------------------------------|
| M-spc             | 清楚光标处的空白字符，但是留一个               |
|-------------------+------------------------------------------------|
| M-^               | 将两行合并一行，删除之间的空白和缩进，保留一个 |
|-------------------+------------------------------------------------|
| C-o               | 插入空白行                                     |
|-------------------+------------------------------------------------|
| C-x C-o           | 删除空白行只留当前一个                         |
|-------------------+------------------------------------------------|
| C-x z             | 之后无限z可以无限重做上次命令                  |
|-------------------+------------------------------------------------|
| C-x esc esc       | 在窗口重做minibuffer中的命令                   |
|-------------------+------------------------------------------------|
| append-to-buffer  | 将区域内容加入到一个缓冲中，全部内容后         |
| prepend-to-buffer | 将区域内容加入到一个缓冲中的光标前面           |
| copy-to-buffer    | 将区域内容加入到一个缓冲中，并清空原来内容     |
| insert-buffer     | 将一个缓冲区的内容插入到光标位置               |
| append-to-file    | 将区域的内容复制到一个文件中                   |
|-------------------+------------------------------------------------|



* 目录操作

|-------------+------------------------------------------------------------------------------------------------------------|
| 快捷键      | 描述                                                                                                       |
|-------------+------------------------------------------------------------------------------------------------------------|
| C-x d       | 打开目录                                                                                                   |
| C-x C-d     | 精简模式打开目录                                                                                           |
|-------------+------------------------------------------------------------------------------------------------------------|
| s           | 改变排序模式                                                                                               |
|-------------+------------------------------------------------------------------------------------------------------------|
| v           | 递归模式阅读光标所在文件，可以使用q返回                                                                    |
|-------------+------------------------------------------------------------------------------------------------------------|
| d           | 标记为删除                                                                                                 |
|-------------+------------------------------------------------------------------------------------------------------------|
| x           | 执行标记的操作                                                                                             |
|-------------+------------------------------------------------------------------------------------------------------------|
| D           | 马上删除当前文件                                                                                           |
|-------------+------------------------------------------------------------------------------------------------------------|
| C           | 拷贝当前文件                                                                                               |
|-------------+------------------------------------------------------------------------------------------------------------|
| R           | 重命名当前文件                                                                                             |
|-------------+------------------------------------------------------------------------------------------------------------|
| +           | 新建文件夹                                                                                                 |
|-------------+------------------------------------------------------------------------------------------------------------|
| Z           | 压缩文件                                                                                                   |
|-------------+------------------------------------------------------------------------------------------------------------|
| ！          | 对当前文件执行shell命令                                                                                    |
|-------------+------------------------------------------------------------------------------------------------------------|
| g           | 刷新                                                                                                       |
|-------------+------------------------------------------------------------------------------------------------------------|
| i           | 在当前缓冲区的末尾插入子目录的内容                                                                         |
|-------------+------------------------------------------------------------------------------------------------------------|
| [n]m/u      | 从当前位置起标记n个文件/取消标记                                                                           |
|-------------+------------------------------------------------------------------------------------------------------------|
| t           | 反向标记文件                                                                                               |
|-------------+------------------------------------------------------------------------------------------------------------|
| %-m         | 正则标记文件                                                                                               |
|-------------+------------------------------------------------------------------------------------------------------------|
| !-*-? shell | 在当前文件和所有标记的文件上执行shell命令；*表示所有的标记文件，？标识分别在每个被标记的文件上执行当前命令 |
|-------------+------------------------------------------------------------------------------------------------------------|
| q           | 退出目录模式                                                                                               |
|-------------+------------------------------------------------------------------------------------------------------------|




* emacs中执行shell命令

|-------------+-----------------------------------------|
| 快捷键      | 描述                                    |
|-------------+-----------------------------------------|
| M-x shell   | 打开命令行界面                          |
|-------------+-----------------------------------------|
| M-!         | 不打开命令行界面，直接执行shell命令     |
|-------------+-----------------------------------------|
| M-1 M-!     | 执行shell命令，将结果插入当前光标位置   |
|-------------+-----------------------------------------|
| M-'\'       | 针对某选中的区域执行shell命令           |
| C-c C-o     | 删除最后一条命令产生的输出              |
| C-c C-r/e   | 屏幕，滚动到最后一条命令输出的开头/结尾 |
| C-c C-n/C-p | 查看后一条/前一条命令的输出             |
|-------------+-----------------------------------------|



* 搜索模式快捷键

|------------------+--------------------------------------------------|
| 快捷键           | 描述                                             |
|------------------+--------------------------------------------------|
| C-s/r            | 向前/向后搜索                                    |
| C-M-s/r          | 向前/向后正则搜索                                |
| M-c              | 搜索模式下，切换大小写敏感                       |
| C-j              | 搜索模式下，代替回车                             |
| C-w              | 搜索模式下，复制光标处单词到查找缓冲，并全部小写 |
| C-y              | 同上，直到行尾的内容                             |
| M-y              | 搜索模式下，在kill环里复制内容到查找缓冲         |
| C-M-w            | 搜索模式下，删除查找缓冲中的最后一个字符         |
| C-M-y            | 搜索模式下，把光标处的字符复制到查找区域的最后   |
|------------------+--------------------------------------------------|
| M-s w            | 向下词组句子查找，全匹配模式，忽略符号           |
| M-s w C-r        | 同上，向上                                       |
| C-s C-W          | 以当前单词为关键字搜索                           |
|------------------+--------------------------------------------------|
| C-s C-s          | 继续上次搜索                                     |
|------------------+--------------------------------------------------|
| C-r C-r          | 继续上次反向搜索                                 |
|------------------+--------------------------------------------------|
| C-s RET C-w      | 进入单词搜索模式(按下RET才开始搜索)              |
|------------------+--------------------------------------------------|
| C-r RET C-w      | 进入反向单词搜索模式(同上)                       |
|------------------+--------------------------------------------------|
| replace-string   | 按字替换(全匹配)                                 |
| replace-regexp   | 正则替换                                         |
| case-replace     | 设为nil则不智能替换                              |
| case-fold-search | 设为nil则强制匹配大小写                          |
|------------------+--------------------------------------------------|
| C-/M-%           | 正则/交互替换(每个替换都会询问)                  |
| spec/y           | 替换当前匹配并下移                               |
| del/n            | 忽略当前匹配并下移                               |
| ./,              | 替换当前并退出/暂停                              |
| ！               | 替换所有剩余匹配                                 |
| '^'              | 回到上一匹配处                                   |
| RET/q            | 退出                                             |
| e                | 修改新字符串                                     |
| C-r              | 进入递归编辑                                     |
| C-w              | 删除当前匹配并进入递归编辑                       |
| C-M-c/top-level  | 退出递归编辑，并返回查找替换                     |
| C-]              | 退出递归和查找替换                               |
| C-h              | 显示帮助                                         |
|------------------+--------------------------------------------------|
| ^/$              | 正则符号，行首/行尾                              |
| ./*              | 正则符号，单字符/任意字符                        |
| \</\>            | 正则符号，行首/行尾                              |
| [a-z]            | 正则符号，匹配[]里的任意字符                     |
| recursive-edit   | 任意命令下进入递归编辑状态                       |
|------------------+--------------------------------------------------|




* 窗口快捷键

| 快捷键          | 描述                                             |
|-----------------+--------------------------------------------------|
| C-x 0           | 关闭当前窗格                                     |
| C-x 1           | 只保留当前窗格                                   |
| C-x 2           | 水平分割                                         |
| C-x 3           | 垂直分割                                         |
| C-x o           | 循环切换窗格                                     |
| C-M-v/V         | 滚动其他窗格内容                                 |
| C-x ^           | 向下扩大窗格                                     |
| C-x {/}         | 向左/右扩大窗格                                  |
| C-x +           | 自动窗格大小                                     |
| C-x 4 b/d/f/m/r | 在其他窗格打开缓冲/文件夹/文件/邮件/只读方式打开 |
| C-x 4 C-o       | 在另一个窗格打开缓冲，但不选中                   |
| C-x 4 0/1       | 关闭缓冲区和窗格                                 |
| C-x 5 2         | 新建窗口(frame)                                  |
| C-x 5 f         | 在新窗口打开文件                                 |
| C-x 5 0         | 关闭当前窗口                                     |
| C-x 5 o         | 循环切换到其他窗口                               |
|-----------------+--------------------------------------------------|





* 缓冲区快捷键

|----------------------------+------------------------------------------------|
| 快捷键                     | 描述                                           |
|----------------------------+------------------------------------------------|
| C-x b                      | 切换当前窗格的缓冲区                           |
|----------------------------+------------------------------------------------|
| spec/n/p                   | 上下移到光标                                   |
| 1                          | 将选中的缓冲满窗口显示                         |
| 2                          | 一般窗口显示                                   |
| b                          | 将缓冲移到最后一行                             |
| m                          | 将缓冲标记在新窗口打开                         |
| v                          | 执行带有显示标记动缓冲(被m标记的那些)          |
| g                          | 刷新                                           |
| t                          | 切换显示文件关联缓冲                           |
| C-x C-b                    | 打开缓冲区列表                                 |
| d/k                        | 标记为删除，移动到下一项                       |
| C-d                        | 同上，移动到上一项                             |
| u/del                      | 取消标记，移到到下一项/上一项                  |
| ~                          | 标记为未修改状态                               |
| %                          | 标记为只读                                     |
| s                          | 保存缓冲区                                     |
| x                          | 执行标记操作                                   |
| f/RET                      | 在当前窗格打开该缓冲                           |
| C-/o                       | 在其他窗格打开该缓冲,并 不/选中该窗口          |
|----------------------------+------------------------------------------------|
| C-x k                      | 关闭缓冲                                       |
|----------------------------+------------------------------------------------|
| C-x s                      | 保存所有缓冲                                   |
|----------------------------+------------------------------------------------|
| C-x C-q                    | 切换当前缓冲区的只读模式                       |
|----------------------------+------------------------------------------------|
| C-x 4 b                    | 在另一个窗格新建缓冲区                         |
| C-x 5 b                    | 在另一个窗口新建缓冲区                         |
|----------------------------+------------------------------------------------|
| raname-buffer              | 重命名一个缓冲区                               |
| rename-uniquely            | 重命名当前缓冲，直接在其后加一个数组后戳(自动) |
| view-buffer                | 以只读方式打开一个缓冲                         |
|----------------------------+------------------------------------------------|
| clean-buffer-list          | 关掉三天未使用的buffer                         |
|----------------------------+------------------------------------------------|
| kill-some-buffers          | 关闭许多缓冲                                   |
| clone/make-indirect-buffer | 克隆/创建一个间接缓冲                          |
|----------------------------+------------------------------------------------|



* 使用etags

|----------------------------------------+-------------------------------------------------|
| 快捷键                                 | 描述                                            |
|----------------------------------------+-------------------------------------------------|
| M-.                                    | 查找                                            |
|----------------------------------------+-------------------------------------------------|
| C-u M-.                                | 如果相同的tag有多个，该命令跳至下一个匹配的位置 |
|----------------------------------------+-------------------------------------------------|
| M-*                                    | 回到使用tag查找命令前的buffer                   |
|----------------------------------------+-------------------------------------------------|
| tags-search                            | 正则表达式搜索tags                              |
|----------------------------------------+-------------------------------------------------|
| tags-query-replace                     | 在源代码文件中进行tag查询/替换                  |
|----------------------------------------+-------------------------------------------------|
| M-,                                    | 恢复tags-search或tag-query-replace命令          |
|----------------------------------------+-------------------------------------------------|
| tags-apropos                           | 列出正则表达式匹配的所有tags                    |
|----------------------------------------+-------------------------------------------------|
| list-tags                              | 列出源代码文件中所有的tags                      |
|----------------------------------------+-------------------------------------------------|
| M-x compile RET etags -a /path/files/* | 生成tags                                        |





* 帮助及其他

| 快捷键               | 描述                     |
|----------------------+--------------------------|
| C-h t                | 特别指南                 |
| C-h r                | 手册                     |
| C-h i                | 进入info                 |
| C-h c 快捷键         | 查看快捷键绑定说明       |
| C-h k 快捷键         | 查看快捷键对应的详细信息 |
| C-h f 函数名         | 查看函数信息             |
| C-h a 任意字符       | 搜索命令                 |
| C-h v 变量名         | 查看任意变量名内容       |
| C-h m                | 查看当前mode的相关文档   |
| C-h w 函数           | 查看函数对应的快捷键     |
| C-h b                | 查看当前mode的所有快捷键 |
| C-h l                | 查看历史命令             |
| C-h ?                | 帮助的帮助               |
| M-x set-variable     | 设置变量                 |
| -mm                  | 启动时窗口最大化         |
| -fs                  | 启动时全屏               |
| C-x RET C-\          | 切换输入法               |
| M-x set-input-method | 同上                     |
|----------------------+--------------------------|



  

